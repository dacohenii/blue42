kind: pipeline
type: docker
name: default

# clone:
#   disable: true

steps:
# - name: clone
#   image: alpine/git
#   commands:
#   - git clone https://github.com/lagerdata/blue42.git . --recurse-submodules

- name: build
  image: adhanali/blue42
  commands:
  - cd /drone/src
  - mkdir -p _build
  - cd _build
  - cmake .. -G Ninja -DCMAKE_TOOLCHAIN_FILE=../cmake/arm-gcc-toolchain.cmake
  - cmake --build .
  - cp /opt/nordic/nRF5_SDK_16.0.0/components/softdevice/s140/hex/s140_nrf52_7.0.1_softdevice.hex .
